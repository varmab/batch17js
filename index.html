<html>
    <head>
        <title>Welcome to JS</title>
        <script>
            var myName="Varma";
            var age=46;
            var isStudent=false;

            console.log("Welcome to " +  myName)

            //age="Fourty six";

            //This function is to add two numbers

            /*

                Everything here will be 
                ignored by
                interpretor

            */

            var x;
            age=null;

            console.log("Welcome to JS")
            
            var student={
                name:"Varma",
                age:46,
                isStudent:false,
                "college name":"JNTU"
            }

            var color="red";

            //if
            if(color=="red"){
                console.log("Color is red")   
            }
            else if(color=="black"){
                console.log("Color is black")   
            }
            else if(color=="green"){
                console.log("Color is green")   
            }
            else
            {
                console.log("Color is unknown")
            }

            var h=2;

            if(h){

            }
            else
            {

            }

            if((color=="red") || (color=="black")){

            }

            //ternary operator
            (color=="red") ? console.log("red") : console.log("not red")

            switch(color){
                case "red":
                    console.log("Red");
                    break;
                case "black":
                    console.log("Black");
                    break;
                default:
                    console.log("Unknown")
            }

            //Loops
            var j=0;
            while(j<=10){
                console.log(j);
                j++;
            }

            var b=0;
            do {
                console.log(b);
                b++;
            }
            while(b<=10)

            for(var i=0;i<=10;i++){
                console.log(i)
            }

            //break

            //continue

            //JavaScript Hoisting

            console.log(add(1,2));

            //function declaration
            function add(a,b){
                return a+b;
            }

            //function expression
            var sum=function(a,b){
                return a+b;
            }

            console.log(sum(2,3));

            //Arrays

            var myNumbers=["one","two","three"];
            
            myNumbers.push("four");
            myNumbers.unshift("zero");

            myNumbers.pop();
            myNumbers.shift();

            var myLetters=["a","b","c"];

            myLetters.forEach(function(value){
                console.log(value)
            })

            var movies=[
                {
                    id:1,
                    title:"Bahubali",
                    actor:"Prabhas",
                    revenue:300,
                    theaters:["A","B"]
                },
                {
                    id:2,
                    title:"Kushi",
                    actor:"Pavan",
                    revenue:15,
                    theaters:["C","D"]
                },
                {
                    id:3,
                    title:"Adhurs",
                    actor:"NTR",
                    revenue:45,
                    theaters:["B","C"]
                },
                
            ]

            //1. Is any movie crossed 100cr revenue?
            var isAny100=movies.some(function(movie){
                return movie.revenue>=100;
            })

            console.log(isAny100);

            //2. Is all movies crossed 50cr revenue?
            var isAll50=movies.every(function(movie){
                return movie.revenue>=50;
            })

            console.log(isAll50);


            //3. I want list of movies released in theater B
            var bMovies=movies.filter(function(movie){
                return movie.theaters.indexOf("B")!=-1;
            })
            console.log(bMovies);

            //4. I want list of actors of all movies in an array
            // ["Prabhas","NTR","Pavan"]

            var actors=movies.map(function(movie){
                return movie.actor;
            })

            //5. I want total revenue of all movies
            var totalRevenue=movies.reduce(function(total,movie){
                return total+movie.revenue;
            },0)

            console.log(totalRevenue)

            //6. I want list of titles as one single string
            // "Bahubali,Adhurs,Kushi"
            var titles=movies.reduce(function(titles,movie){
                if(titles=="") return movie.title;
                return titles + "," + movie.title;
            },'')

            console.log(titles);

            //7.I want an object containing title as key and actor as value
            // of all movies
            /*
                {
                    "Bahubali":"Prabhas",
                    "Adhurs":"NTR",
                    "Kushi":"Pavan"
                }
            */

            var obj=movies.reduce(function(movieActors,movie){
                movieActors[movie.title]=movie.actor;
                return movieActors;
            },{})

            console.log(obj)


            //8. I want list of all theaters of all movies
            // ["A","B","C","D"]

            var t=movies.reduce(function(theaters,movie){
                movie.theaters.forEach(function(theater){
                    console.log(theater)
                    if(theaters.includes(theater)==false){
                        theaters.push(theater)
                    }
                })
                return theaters;
            },[])


            movies.sort(function(a,b){
                if(a.revenue>b.revenue) return 1;
                if(a.revenue<b.revenue) return -1;
                return 0;
            })


            //8. Find a one movie where actor is Prabhas 
            var prabhasMovie=movies.find(function(movie){
                return movie.actor=="Prabhas"
            })

            console.log(t);
            var user={};

            user.name="Varma";
            user.age=46;

            var myKey="college name";

            user[myKey]="JNTU"

        </script>
        <script src="class.js"></script>
        <style>
            .title {
                color: purple;
                font: 3em sans-serif;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    </head>

    <body>
        <h1>Welcome to JS Class</h1>
        <p>This is paragraph</p>
        <ul>
            <li id="highlight">List Item 1</li>
            <li class="bolded">List Item 2</li>
            <li class="bolded">List Item 3</li>
        </ul>
        <a href="http://yahoo.com">Yahoo!!!</a>
        <!-- <button>Say Hello</button> -->

        <div>Div 1</div>
        <div class="highlight">Div 2</div>
        <div id="third">Div 3</div>
        <div class="highlight">Div 4</div>

        <span></span>
        <button>Stop</button>
    </body>
</html>
<script>
    // //SELECT
    // var h1=document.querySelector("h1");
    // //MANIPULATE
    // //h1.style.color="red";
    // //h1.classList.add("title");

    // //h1.textContent="Thank you for coming";

    // h1.addEventListener("mouseover",function(){
    //     h1.textContent="Thank you for coming"
    // })

    // h1.addEventListener("mouseout",function(){
    //     h1.textContent="Welcome to JS Class"
    // })

    // var p=document.querySelector("p");
    // p.innerHTML="<b>This</b> is new paragraph";

    // // var body = document.querySelector("body"); //SELECT
    // // var isBlue = false;

    // // setInterval(function(){   //MANIPULATE
    // //     if (isBlue) {
    // //         body.style.background = "white"; 
    // //     } else {
    // //         body.style.background = "#3498db";
    // //     }
    // //     isBlue = !isBlue;
    // // }
    // // , 1000);

    // var liH=document.getElementById("highlight")
    // liH.style.color="green"

    // var boldedLis=document.getElementsByClassName("bolded");
    // boldedLis[0].style.color="orange"
    // boldedLis[1].style.color="orange"

    // var a=document.querySelector("a");
    // a.setAttribute("href","http://www.google.com")
    // a.textContent="Google";

    // var button=document.querySelector("button");
    // button.addEventListener("click",function(){
    //     alert("Hello")
    // })
</script>

<script>
    "use strict";

    $("h1").css("color","red");
    $("div").css("background-color","purple")
    $(".highlight").css("width","200px")
    $("#third").css("border","1px solid orange");
    $("div:first").css("color","pink");

    $("button").on("click",function(){
        $.ajax({
            url:'http://jsonplaceholder.typicode.com/posts/1',
            success:function(data){
                $("p").text(data.title)
            },
            error:function(err){
                alert("Failed to get data")
            }
        })
    })

    $("h1").on("mouseover",function(){
        $("h1").text("Thank you for coming")
    })

    /*

        Class - model or blueprint
            constructor
            properties
            methods

        Object - instance of Class

        Main charecterstics:

        Inheritance
        Encapsulation
        Polymorphism
        Abstraction

    */

    //constructor function
    // function Person(name,age){
    //     this.name=name;
    //     this.age=age;
    // }

    // Person.prototype.showMyName=function(){
    //     console.log(this.name)
    // }

    class Person {
        constructor(name,age){
            this.name=name;
            this.age=age;
        }

        showMyName(){
            console.log(this.name)
        }
    }

    //Creating an object
    var varma=new Person("Varma",46);
    varma.showMyName();

    // function Student(name,age,school){
    //     this.name=name;
    //     this.age=age;
    //     this.school=school;
    // }

    // Student.prototype=new Person();

    // Student.prototype.showMySchool=function(){
    //     console.log(this.school)
    // }

    class Student extends Person{
        constructor(name,age,school){
            super(name,age);

            this.school=school;
        }

        showMySchool(){
            console.log(this.school)
        }
    }

    var ram=new Student("Ram",34,"JNTU");

    ram.showMySchool();
    ram.showMyName();


    var user={}

    user.name="Varma";
    user.age=46;

    user.address={
        street:"MIG 27/1",
        city:"Hyderabad"
    }

    delete user.age;

    var key="college name";
    user[key]="JNTU";

    if("age" in user){

    }

    var teacher=Object.assign({},user);


    //localStorage

    localStorage.setItem("userName","varmab");

    //sessionStorage

    var x=10;

    if(true){
        let x=20;
        console.log(x); //20
    }

    console.log(x) //10

    const PI=3.14;

    const book={
        title:"JavaScript Beginner",
        author:"John"
    }

    book.author="Varma";
    book.published="2020";

    //You can't assign new object to  book
    // book={
    //     title:"Something else",
    //     author:"Someone else"
    // }

    

    var firstName="Varma";
    var lastName="Bhupatiraju";
    
    var address="MIG 27/1 Road #6";
    var area="KPHB";
    var city="Hyderabad";
    var postalCode="34343"
    var state="TS"

    var shippingLabel=firstName + " " + lastName + "\n" 
    + address + "\n"
    + area + ", " + city + "\n"
    + state + ", " + postalCode;

    console.log(shippingLabel)

    var newShippingLabel=`
        ${firstName} ${lastName}
        ${address}
        ${area}, ${city}
        ${state} ${postalCode}
        ${add(1,2)}
    `

    console.log(newShippingLabel)

    //Rest operator
    var add=function(...numbers){
        return numbers.reduce(function(total,number){
            return total+number;
        })
    }

    var t=[1,2,3]
    var v=[4,5,6]
    var c=t.concat(v)
    var d=[...t,...v]  //spread operator


    var family=["Varma","Neelima","Suma","Father","Mother","Father-in-law","Mother-in-law"];

    // var me=family[0];
    // var wife=family[1];
    // var daughter=family[2];

    var [me, wife, daughter,...others]=family;

    console.log(me, wife, daughter,others);

    var family={
        me:"Varma",
        wife:"Neelima",
        daughter:"Suma"
    }

    var {me,wife,daughter}=family;

    var add=(a,b)=>{
        return a+b;
    }

    function a(){
        return new Promise(function(resolve,reject){
            setTimeout(function(){
                console.log("function a logged");
                resolve("success")
            },5000)
        })
    }

    function b(){
        console.log("function b logged");
    }

    a().then(b)
    .catch((err)=>{

    });

    setTimeout(function(){
        console.log("This will be displayed after 5 sec")
    }, 5000)

    var counter=0

    // var id=setInterval(function(){
    //             counter++
    //             console.log("This will be displayed for every 1 sec " + counter )
    //             $("span").text("This will be displayed for every 1 sec " + counter);
    //         },1000);

    // $("button").on("click",function(){
    //     clearInterval(id);
    // })

    var pen={
        color:"black",
        type:"ballpoint"
    }
    console.log(JSON.stringify(pen));

    var mydata="{\"color\":\"black\",\"type\":\"ballpoint\"}";
    var newPen=JSON.parse(mydata);

    //pencil="My pencil";

    var person={ name:"Varma", age:42};

function getProfile(){
    return {
        name: this.name,
        age: this.age
    }
}

getProfile(person); //Undefined values

getProfile.call(person,true,45); //Correct
getProfile.apply(person,[true,45]) //Correct


</script>